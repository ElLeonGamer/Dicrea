<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <title>Dicrea</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
  </head>

  <body>
    <!-- Topbar -->
    <div class="topbar">
      <img src="./assets/logo.png" id="logo"/>
      <div class="text-container">
        <div class="nav">
          <a class="linktxt" href="#">Inicio</a>
          <a class="linktxt" href="#productos">Productos</a>
          <a class="linktxt" href="#contacto">Contacto</a>

          <div class="carrito-container">
          <img src="./assets/shoppingCart.webp" alt="Carrito de compras" class="carrito-icon">
          <span id="cart-count" class="cart-badge">0</span>
          </div>


        </div>
      </div>
    </div>

    <!-- Banner -->
    <div class="fade-in">
      <div class="banner">
        <img src="./assets/banner.jpg" alt="Banner">
      </div>
    </div>

<!-- Productos -->
<div class="fade-in">

  <div id="productos" class="description">
    <h1>Explora los diferentes productos que tenemos para ti</h1>
  </div>

  <div class="product-grid">
    <div class="product-card" data-name="Playera Manga larga" data-price="120">
      <img src="./assets/mangaL.webp" alt="Playera Manga larga" />
      <h3 class="prodTxt">Playera Manga larga</h3>
      <p class="prodPrice">Q120</p>
    </div>
    <div class="product-card" data-name="Playera Manga corta" data-price="100">
      <img src="./assets/mangaC.png" alt="Playera Manga corta" />
      <h3 class="prodTxt">Playera Manga corta</h3>
      <p class="prodPrice">Q100</p>
    </div>
    <div class="product-card" data-name="Camisa polo" data-price="150">
      <img src="./assets/polo.webp" alt="Camisa polo" />
      <h3 class="prodTxt">Camisa polo</h3>
      <p class="prodPrice">Q150</p>
    </div>
    <div class="product-card" data-name="Chumpas" data-price="300">
      <img src="./assets/chumpa.webp" alt="Chumpas" />
      <h3 class="prodTxt">Chumpas</h3>
      <p class="prodPrice">Q300</p>
    </div>
    <div class="product-card" data-name="Chalecos" data-price="180">
      <img src="./assets/chaleco.webp" alt="Chalecos" />
      <h3 class="prodTxt">Chalecos</h3>
      <p class="prodPrice">Q180</p>
    </div>
    <div class="product-card" data-name="Gabachas" data-price="250">
      <img src="./assets/gabacha.webp" alt="Gabachas" />
      <h3 class="prodTxt">Gabachas</h3>
      <p class="prodPrice">Q250</p>
    </div>
    <div class="product-card" data-name="Camisa Columbia" data-price="200">
      <img src="./assets/columbia.webp" alt="Camisa Columbia" />
      <h3 class="prodTxt">Camisa Columbia</h3>
      <p class="prodPrice">Q200</p>
    </div>
    <div class="product-card" data-name="Blusa Columbia" data-price="190">
      <img src="./assets/blusaColumbia.webp" alt="Blusa Columbia" />
      <h3 class="prodTxt">Blusa Columbia</h3>
      <p class="prodPrice">Q190</p>
    </div>
    <div class="product-card" data-name="Traje Ejecutivo" data-price="500">
      <img src="./assets/ejecutivoSuit.webp" alt="Traje Ejecutivo" />
      <h3 class="prodTxt">Traje Ejecutivo</h3>
      <p class="prodPrice">Q500</p>
    </div>
    <div class="product-card" data-name="Uniforme de chef" data-price="220">
      <img src="./assets/uniformeChef.webp" alt="Uniforme de chef" />
      <h3 class="prodTxt">Uniforme de chef</h3>
      <p class="prodPrice">Q220</p>
    </div>
    <div class="product-card" data-name="Uniforme de limpieza" data-price="180">
      <img src="./assets/uniformeLimpieza.webp" alt="Uniforme de limpieza" />
      <h3 class="prodTxt">Uniforme de limpieza</h3>
      <p class="prodPrice">Q180</p>
    </div>
    <div class="product-card" data-name="Pantalones de trabajo" data-price="200">
      <img src="./assets/pantalonTrabajo.webp" alt="Pantalones de trabajo" />
      <h3 class="prodTxt">Pantalones de trabajo</h3>
      <p class="prodPrice">Q200</p>
    </div>
  </div>

</div>


    <!-- Modal -->

    <div id="buyModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Producto</h2>

        <div class="size-selector">
          <label>Talla:</label>
          <a href="https://www.ternuaworkwear.com/wp-content/uploads/2023/08/tallas-hombre-01-1024x741.jpg"><img src="./assets/GuiaDeTallas.webp" class="guia-tallas"></a>
          <div class="sizes">
            <button class="size-btn active" data-value="S">S</button>
            <button class="size-btn" data-value="M">M</button>
            <button class="size-btn" data-value="L">L</button>
            <button class="size-btn" data-value="XL">XL</button>
            <h2 class ="PriceText">Precio</h2>
            <p id="modalPrice" class="modal-price">Q0</p>

          </div>
        </div>


        <label for="cantidad">Cantidad:</label>
        <input type="number" id="cantidad" value="1" min="1" />

        <!-- Carrusel -->
        <div class="carousel-container">
          <button class="prev">&#10094;</button>
          <img id="modalImage" src="" alt="Producto" />
          <button class="next">&#10095;</button>
        </div>

        <button onclick="agregarAlCarrito()">Agregar al carrito</button>
      </div>
    </div>

    <!-- Contacto -->
    <div class="fade-in">
      <div class="contacto">
        <div id="contacto" class="description">
          <h1>Contactanos</h1>
        </div>

        <div id="contactanos" class="contactInfo">
          <h2>¿Tienes preguntas?</h2>
          <p>¡Contáctanos y te responderemos lo antes posible!</p>

          <form action="https://formsubmit.co/dicreagt@gmail.com" method="POST">
            <input type="text" name="nombre" placeholder="Tu nombre" required>
            <input type="email" name="email" placeholder="Tu correo" required>
            <textarea name="mensaje" rows="4" placeholder="Escribe tu mensaje..." required></textarea>
            <button type="submit">Enviar mensaje</button>
          </form>
        </div>
      </div>
    </div>

    <!-- WhatsApp y Email -->
    <a href="https://wa.me/+50244798946" class="whatsapp-float" target="_blank" rel="noopener noreferrer">
      <img src="./assets/WhiteWhatsApp.png" alt="WhatsApp">
    </a>

    <a href="mailto:dicreagt@gmail.com" class="gmail-float" target="_blank" rel="noopener noreferrer">
      <img src="./assets/WhiteEmail.png" alt="Email">
    </a>

    <!-- Scripts -->


 <script>
  // ----- FADE-IN -----
  const faders = document.querySelectorAll('.fade-in');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) entry.target.classList.add('visible');
    });
  }, { threshold: 0.1 });
  faders.forEach(el => observer.observe(el));

  // ----- VARIABLES GLOBALES -----
  let cartCount = 0;
  let selectedSize = 'S';
  let currentImages = [];
  let currentIndex = 0;

  // ----- ELEMENTOS DEL MODAL -----
  const modal = document.getElementById("buyModal");
  const modalTitle = modal.querySelector("h2");
  const modalImage = document.getElementById("modalImage");
  const modalPrice = document.getElementById("modalPrice"); // NUEVO: precio en modal
  const prevBtn = modal.querySelector(".prev");
  const nextBtn = modal.querySelector(".next");
  const closeBtn = modal.querySelector(".close");

  // ----- IMÁGENES POR PRODUCTO -----
  const productImages = {
    "Playera Manga larga": ["./assets/mangaL.webp", "./assets/mangaL2.webp","./assets/mangaL3.webp"],
    "Playera Manga corta": ["./assets/mangaC.png", "./assets/mangaC2.png"],
    "Camisa polo": ["./assets/polo.webp"],
    "Chumpas": ["./assets/chumpa.webp"],
    "Chalecos": ["./assets/chaleco.webp"],
    "Gabachas": ["./assets/gabacha.webp"],
    "Camisa Columbia": ["./assets/columbia.webp"],
    "Blusa Columbia": ["./assets/blusaColumbia.webp"],
    "Traje Ejecutivo": ["./assets/ejecutivoSuit.webp"],
    "Uniforme de chef": ["./assets/uniformeChef.webp"],
    "Uniforme de limpieza": ["./assets/uniformeLimpieza.webp"],
    "Pantalones de trabajo": ["./assets/pantalonTrabajo.webp"]
  };

  // ----- PRODUCT CARDS -----
  document.querySelectorAll('.product-card').forEach(card => {
    card.addEventListener('click', () => {
      const name = card.dataset.name;
      modalTitle.textContent = name;

      // Tomar precio del data-price
      const price = card.dataset.price || '0';
      modalPrice.textContent = `Q${price}`;

      currentImages = productImages[name] || [];
      currentIndex = 0;
      if(currentImages.length) modalImage.src = currentImages[currentIndex];

      modal.style.display = "flex";
      document.body.style.overflow = 'hidden';
    });
  });

  // ----- CARRUSEL -----
  nextBtn.addEventListener('click', () => {
    if(!currentImages.length) return;
    currentIndex = (currentIndex + 1) % currentImages.length;
    modalImage.src = currentImages[currentIndex];
  });

  prevBtn.addEventListener('click', () => {
    if(!currentImages.length) return;
    currentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;
    modalImage.src = currentImages[currentIndex];
  });

  // ----- CERRAR MODAL -----
  closeBtn.addEventListener('click', () => {
    modal.style.display = "none";
    document.body.style.overflow = 'auto';
  });
  window.addEventListener('click', (event) => {
    if(event.target === modal){
      modal.style.display = "none";
      document.body.style.overflow = 'auto';
    }
  });

  // ----- SELECCIÓN DE TALLAS -----
  document.querySelectorAll('.size-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      selectedSize = btn.dataset.value;
    });
  });

  // ----- AGREGAR AL CARRITO -----
  function agregarAlCarrito() {
    const cantidadInput = document.getElementById('cantidad');
    const cantidad = parseInt(cantidadInput.value) || 1;

    // Sumar al contador
    cartCount += cantidad;
    document.getElementById('cart-count').innerText = cartCount;

    // Cerrar modal
    modal.style.display = 'none';
    document.body.style.overflow = 'auto';

    // Resetear cantidad
    cantidadInput.value = 1;

    // Tomar precio para futuras operaciones
    const price = parseFloat(modalPrice.textContent.replace('Q','')) || 0;

    console.log(`Agregado: ${cantidad} unidad(es) - Talla ${selectedSize} - Producto: ${modalTitle.textContent} - Precio Unitario: Q${price}`);
  }
</script>




  </body>
</html>
