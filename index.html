<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <title>Dicrea</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
  </head>

  <body>
    <!-- Topbar -->
    <div class="topbar">
      <img src="./assets/logo.png" id="logo"/>
      <div class="text-container">
        <div class="nav">
          <a class="linktxt" href="#">Inicio</a>
          <a class="linktxt" href="#productos">Productos</a>
          <a class="linktxt" href="#contacto">Contacto</a>
        </div>
      </div>
    </div>

    <!-- Banner -->
    <div class="fade-in">
      <div class="banner">
        <img src="./assets/banner.jpg" alt="Banner">
      </div>
    </div>

    <!-- Productos -->
    <div class="fade-in">
      <div id="productos" class="description">
        <h1>Explora los diferentes productos que tenemos para ti</h1>
      </div>

      <div class="product-grid">
        <div class="product-card" data-name="Playera Manga larga">
          <img src="./assets/mangaL.webp" alt="Playera Manga larga" />
          <h3 class="prodTxt">Playera Manga larga</h3>
        </div>
        <div class="product-card" data-name="Playera Manga corta">
          <img src="./assets/mangaC.png" alt="Playera Manga corta" />
          <h3 class="prodTxt">Playera Manga corta</h3>
        </div>
        <div class="product-card" data-name="Camisa polo">
          <img src="./assets/polo.webp" alt="Camisa polo" />
          <h3 class="prodTxt">Camisa polo</h3>
        </div>
        <div class="product-card" data-name="Chumpas">
          <img src="./assets/chumpa.webp" alt="Chumpas" />
          <h3 class="prodTxt">Chumpas</h3>
        </div>
        <div class="product-card" data-name="Chalecos">
          <img src="./assets/chaleco.webp" alt="Chalecos" />
          <h3 class="prodTxt">Chalecos</h3>
        </div>
        <div class="product-card" data-name="Gabachas">
          <img src="./assets/gabacha.webp" alt="Gabachas" />
          <h3 class="prodTxt">Gabachas</h3>
        </div>
        <div class="product-card" data-name="Camisa Columbia">
          <img src="./assets/columbia.webp" alt="Camisa Columbia" />
          <h3 class="prodTxt">Camisa Columbia</h3>
        </div>
        <div class="product-card" data-name="Blusa Columbia">
          <img src="./assets/blusaColumbia.webp" alt="Blusa Columbia" />
          <h3 class="prodTxt">Blusa Columbia</h3>
        </div>
        <div class="product-card" data-name="Traje Ejecutivo">
          <img src="./assets/ejecutivoSuit.webp" alt="Traje Ejecutivo" />
          <h3 class="prodTxt">Traje Ejecutivo</h3>
        </div>
        <div class="product-card" data-name="Uniforme de chef">
          <img src="./assets/uniformeChef.webp" alt="Uniforme de chef" />
          <h3 class="prodTxt">Uniforme de chef</h3>
        </div>
        <div class="product-card" data-name="Uniforme de limpieza">
          <img src="./assets/uniformeLimpieza.webp" alt="Uniforme de limpieza" />
          <h3 class="prodTxt">Uniforme de limpieza</h3>
        </div>
        <div class="product-card" data-name="Pantalones de trabajo">
          <img src="./assets/pantalonTrabajo.webp" alt="Pantalones de trabajo" />
          <h3 class="prodTxt">Pantalones de trabajo</h3>
        </div>
      </div>
    </div>

    <!-- Modal -->

    <div id="buyModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Producto</h2>

        <div class="size-selector">
          <label>Talla:</label>
          <div class="sizes">
            <button class="size-btn active" data-value="S">S</button>
            <button class="size-btn" data-value="M">M</button>
            <button class="size-btn" data-value="L">L</button>
            <button class="size-btn" data-value="XL">XL</button>
          </div>
        </div>


        <label for="cantidad">Cantidad:</label>
        <input type="number" id="cantidad" value="1" min="1" />

        <!-- Carrusel -->
        <div class="carousel-container">
          <button class="prev">&#10094;</button>
          <img id="modalImage" src="" alt="Producto" />
          <button class="next">&#10095;</button>
        </div>

        <button onclick="agregarAlCarrito()">Agregar al carrito</button>
      </div>
    </div>

    <!-- Contacto -->
    <div class="fade-in">
      <div class="contacto">
        <div id="contacto" class="description">
          <h1>Contactanos</h1>
        </div>

        <div id="contactanos" class="contactInfo">
          <h2>¿Tienes preguntas?</h2>
          <p>¡Contáctanos y te responderemos lo antes posible!</p>

          <form action="https://formsubmit.co/dicreagt@gmail.com" method="POST">
            <input type="text" name="nombre" placeholder="Tu nombre" required>
            <input type="email" name="email" placeholder="Tu correo" required>
            <textarea name="mensaje" rows="4" placeholder="Escribe tu mensaje..." required></textarea>
            <button type="submit">Enviar mensaje</button>
          </form>
        </div>
      </div>
    </div>

    <!-- WhatsApp y Email -->
    <a href="https://wa.me/+50244798946" class="whatsapp-float" target="_blank" rel="noopener noreferrer">
      <img src="./assets/WhiteWhatsApp.png" alt="WhatsApp">
    </a>

    <a href="mailto:dicreagt@gmail.com" class="gmail-float" target="_blank" rel="noopener noreferrer">
      <img src="./assets/WhiteEmail.png" alt="Email">
    </a>

    <!-- Scripts -->
    <script>
      // Fade-in
      const faders = document.querySelectorAll('.fade-in');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add('visible');
        });
      }, { threshold: 0.1 });
      faders.forEach(el => observer.observe(el));

      document.addEventListener('DOMContentLoaded', () => {
        const modal = document.getElementById("buyModal");
        const closeBtn = modal.querySelector(".close");
        const productCards = document.querySelectorAll(".product-card");
        const modalTitle = modal.querySelector("h2");
        const modalImage = document.getElementById("modalImage");
        const prevBtn = modal.querySelector(".prev");
        const nextBtn = modal.querySelector(".next");

        const productImages = {
          "Playera Manga larga": ["./assets/mangaL.webp", "./assets/mangaL2.webp","./assets/mangaL3.webp"],
          "Playera Manga corta": ["./assets/mangaC.png", "./assets/mangaC2.png"],
          "Camisa polo": ["./assets/polo.webp"],
          "Chumpas": ["./assets/chumpa.webp"],
          "Chalecos": ["./assets/chaleco.webp"],
          "Gabachas": ["./assets/gabacha.webp"],
          "Camisa Columbia": ["./assets/columbia.webp"],
          "Blusa Columbia": ["./assets/blusaColumbia.webp"],
          "Traje Ejecutivo": ["./assets/ejecutivoSuit.webp"],
          "Uniforme de chef": ["./assets/uniformeChef.webp"],
          "Uniforme de limpieza": ["./assets/uniformeLimpieza.webp"],
          "Pantalones de trabajo": ["./assets/pantalonTrabajo.webp"]
        };

        let currentImages = [];
        let currentIndex = 0;

        productCards.forEach(card => {
          card.addEventListener('click', () => {
            const name = card.dataset.name;
            modalTitle.textContent = name;
            currentImages = productImages[name] || [];
            currentIndex = 0;
            if(currentImages.length) modalImage.src = currentImages[currentIndex];
            modal.style.display = "flex";
            document.body.style.overflow = 'hidden';
          });
        });

        nextBtn.addEventListener('click', () => {
          if(!currentImages.length) return;
          currentIndex = (currentIndex + 1) % currentImages.length;
          modalImage.src = currentImages[currentIndex];
        });

        prevBtn.addEventListener('click', () => {
          if(!currentImages.length) return;
          currentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;
          modalImage.src = currentImages[currentIndex];
        });

        closeBtn.addEventListener('click', () => {
          modal.style.display = "none";
          document.body.style.overflow = 'auto';
        });

        window.addEventListener('click', (event) => {
          if(event.target === modal){
            modal.style.display = "none";
            document.body.style.overflow = 'auto';
          }
        });

        window.agregarAlCarrito = function() {
          const talla = document.getElementById("talla").value;
          const cantidad = document.getElementById("cantidad").value;
          const nombreProducto = modalTitle.textContent;
          alert(`Agregado: ${cantidad} unidad(es) - Talla ${talla} - Producto: ${nombreProducto}`);
          modal.style.display = "none";
          document.body.style.overflow = 'auto';
        };
      });

      // Selección de tallas
        const sizeButtons = document.querySelectorAll('.size-btn');
        let selectedSize = 'S'; // valor por defecto

        sizeButtons.forEach(btn => {
          btn.addEventListener('click', () => {
            sizeButtons.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            selectedSize = btn.dataset.value;
          });
        });

        // Modificar agregar al carrito
        window.agregarAlCarrito = function() {
          const cantidad = document.getElementById("cantidad").value;
          const nombreProducto = document.querySelector("#buyModal h2").textContent;
          alert(`Agregado: ${cantidad} unidad(es) - Talla ${selectedSize} - Producto: ${nombreProducto}`);
          modal.style.display = "none";
          document.body.style.overflow = 'auto';
        };


    </script>
  </body>
</html>
